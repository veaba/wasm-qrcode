# åç«¯ QRCode åŒ… PK åŸºå‡†æµ‹è¯•

import { PKBenchmarkDashboard } from '../components/PKBenchmarkDashboard';

## æµ‹è¯•æ¦‚è¿°

æœ¬åŸºå‡†æµ‹è¯•å¯¹æ¯”äº†ä»¥ä¸‹åç«¯ QRCode ç”Ÿæˆåº“çš„æ€§èƒ½ï¼š

| åŒ…                   | è¿è¡Œæ—¶  | æè¿°                         | å›¾æ ‡ |
| -------------------- | ------- | ---------------------------- | ---- |
| `@veaba/qrcode-node` | Node.js | Node.js ç¯å¢ƒä¸‹çš„ QRCode å®ç° | ğŸŸ¢   |
| `@veaba/qrcode-bun`  | Bun     | Bun ç¯å¢ƒä¸‹çš„ QRCode å®ç°     | ğŸ¥Ÿ   |
| `@veaba/qrcode-rust` | Rust    | Rust åŸç”Ÿ QRCode å®ç°        | ğŸ¦€   |
| `@veaba/qrcode-fast` | Rust    | Rust ä¼˜åŒ–ç‰ˆ QRCode           | âš¡   |
| `kennytm-qrcode`     | Rust    | ç¤¾åŒºæµè¡Œçš„ Rust QRCode åº“    | ğŸ“¦   |

## æµ‹è¯•ç»“æœä»ªè¡¨æ¿

<PKBenchmarkDashboard />

## æµ‹è¯•æ–¹æ³•

### æµ‹è¯•ç¯å¢ƒ

- **å¹³å°**: Windows
- **CPU**: x64
- **Node.js**: v20.19.4
- **Bun**: 1.3.0
- **Rust**: rustc 1.89.0
- **æµ‹è¯•æ—¶é—´**: 2026-02-02

### æµ‹è¯•ç»´åº¦

1. **å•æ¡ç”Ÿæˆæ€§èƒ½** - æµ‹è¯•ä¸åŒé•¿åº¦æ–‡æœ¬çš„ QRCode ç”Ÿæˆé€Ÿåº¦
   - çŸ­æ–‡æœ¬: `https://a.co` (12 å­—ç¬¦)
   - ä¸­ç­‰æ–‡æœ¬: `https://github.com/veaba/qrcodes` (36 å­—ç¬¦)
   - é•¿æ–‡æœ¬: 98 å­—ç¬¦çš„å¤æ‚ URL
   - Unicode: åŒ…å«ä¸­æ–‡çš„ URL

2. **æ‰¹é‡ç”Ÿæˆæ€§èƒ½** - æµ‹è¯•æ‰¹é‡ç”Ÿæˆ 10/100/1000 ä¸ªäºŒç»´ç çš„é€Ÿåº¦

3. **SVG ç”Ÿæˆæ€§èƒ½** - æµ‹è¯•ç”Ÿæˆ SVG æ ¼å¼äºŒç»´ç çš„é€Ÿåº¦

4. **çº é”™çº§åˆ«æ€§èƒ½** - æµ‹è¯•ä¸åŒçº é”™çº§åˆ«ï¼ˆL/M/Q/Hï¼‰çš„ç”Ÿæˆé€Ÿåº¦

### æµ‹è¯•æŒ‡æ ‡

- **ops/s**: æ¯ç§’æ“ä½œæ•°ï¼ˆè¶Šé«˜è¶Šå¥½ï¼‰
- **avgTime**: å¹³å‡æ¯æ¬¡æ“ä½œè€—æ—¶ï¼Œå•ä½å¾®ç§’ï¼ˆÂµsï¼‰ï¼ˆè¶Šä½è¶Šå¥½ï¼‰
- **speedup**: æœ€å¿«åŒ…ç›¸å¯¹äºæœ€æ…¢åŒ…çš„é€Ÿåº¦å€æ•°

## ä¸»è¦å‘ç°

### ğŸ† å•æ¡ç”Ÿæˆæ€§èƒ½å† å†›

| æ’å | åŒ…                   | æ€§èƒ½ (ops/s) | å¹³å‡è€—æ—¶  |
| ---- | -------------------- | ------------ | --------- |
| ğŸ¥‡   | `@veaba/qrcode-fast` | 54,283       | 18.42 Âµs  |
| ğŸ¥ˆ   | `@veaba/qrcode-rust` | 21,635       | 46.22 Âµs  |
| ğŸ¥‰   | `@veaba/qrcode-bun`  | 17,248       | 57.98 Âµs  |
| 4    | `@veaba/qrcode-node` | 8,035        | 124.45 Âµs |
| 5    | `kennytm-qrcode`     | 1,451        | 688.92 Âµs |

### ğŸ† æ‰¹é‡ç”Ÿæˆæ€§èƒ½å† å†›

| æ’å | åŒ…                   | æ€§èƒ½ (ops/s) | å¹³å‡è€—æ—¶             |
| ---- | -------------------- | ------------ | -------------------- |
| ğŸ¥‡   | `@veaba/qrcode-bun`  | 13,800       | 72.47 ms (100æ¡)     |
| ğŸ¥ˆ   | `@veaba/qrcode-node` | 5,100        | 196.16 ms (100æ¡)    |
| ğŸ¥‰   | `@veaba/qrcode-fast` | 439          | 2,278.70 Âµs (100æ¡)  |
| 4    | `@veaba/qrcode-rust` | 192          | 5,201.80 Âµs (100æ¡)  |
| 5    | `kennytm-qrcode`     | 15           | 63,730.78 Âµs (100æ¡) |

### ğŸ† SVG ç”Ÿæˆæ€§èƒ½å† å†›

| æ’å | åŒ…                   | æ€§èƒ½ (ops/s) | å¹³å‡è€—æ—¶  |
| ---- | -------------------- | ------------ | --------- |
| ğŸ¥‡   | `@veaba/qrcode-fast` | 92,486       | 10.81 Âµs  |
| ğŸ¥ˆ   | `@veaba/qrcode-rust` | 20,966       | 47.70 Âµs  |
| ğŸ¥‰   | `@veaba/qrcode-bun`  | 17,287       | 57.85 Âµs  |
| 4    | `@veaba/qrcode-node` | 7,685        | 130.12 Âµs |
| 5    | `kennytm-qrcode`     | 1,225        | 815.75 Âµs |

### ğŸ† çº é”™çº§åˆ«æ€§èƒ½å† å†›

| çº é”™çº§åˆ« | å† å†›                 | æ€§èƒ½ (ops/s) |
| -------- | -------------------- | ------------ |
| L (ä½)   | `@veaba/qrcode-fast` | 61,368       |
| M (ä¸­)   | `@veaba/qrcode-fast` | 41,950       |
| Q (è¾ƒé«˜) | `@veaba/qrcode-fast` | 49,062       |
| H (é«˜)   | `@veaba/qrcode-fast` | 47,436       |

## å¯¹æ¯”æ€»ç»“

### é€Ÿåº¦æå‡å€æ•°

| å¯¹æ¯”                                         | é€Ÿåº¦æå‡          |
| -------------------------------------------- | ----------------- |
| `@veaba/qrcode-fast` vs `@veaba/qrcode-node` | **6.7x - 13.0x**  |
| `@veaba/qrcode-fast` vs `@veaba/qrcode-bun`  | **3.1x - 5.3x**   |
| `@veaba/qrcode-fast` vs `@veaba/qrcode-rust` | **2.5x - 4.4x**   |
| `@veaba/qrcode-fast` vs `kennytm-qrcode`     | **36.7x - 75.5x** |
| `@veaba/qrcode-rust` vs `kennytm-qrcode`     | **13.0x - 17.1x** |
| `@veaba/qrcode-bun` vs `@veaba/qrcode-node`  | **2.1x - 2.7x**   |

## SVG éªŒè¯

ä½¿ç”¨ `bench/rust-tools` éªŒè¯å·¥å…·å¯¹ç”Ÿæˆçš„ SVG è¿›è¡ŒéªŒè¯ï¼š

```bash
cd bench/rust-tools
cargo run --release --features validation --bin veaba-qr -- "Hello World"
```

**éªŒè¯ç»“æœ** (æ–‡æœ¬: "Hello World"):

- âœ… `@veaba/qrcode-rust` - 147.1Âµs, 13,798 bytes
- âœ… `@veaba/qrcode-fast` - 48.6Âµs, 4,187 bytes (æ¯” kennytm å¿« 6x)
- âœ… `kennytm-qrcode` - 291.4Âµs, 4,270 bytes (ç¤¾åŒºåº“åŸºå‡†)

æ‰€æœ‰ç”Ÿæˆçš„ SVG å‡å¯é€šè¿‡æ ‡å‡†äºŒç»´ç æ‰«æå™¨æ­£ç¡®è§£ç ã€‚

## è¿è¡ŒåŸºå‡†æµ‹è¯•

### è¿è¡Œæ‰€æœ‰æµ‹è¯•

```bash
cd bench/backend-benchmark
npx tsx index.ts
```

### è¿è¡Œç‰¹å®šè¿è¡Œæ—¶æµ‹è¯•

```bash
# ä»…æµ‹è¯• Node.js
cd packages/qrcode-node
node benchmark/index.js

# ä»…æµ‹è¯• Bunï¼ˆéœ€è¦å®‰è£… Bunï¼‰
cd packages/qrcode-bun
bun run benchmark/index.ts

# ä»…æµ‹è¯• Rust
cd packages/qrcode-rust
cargo bench --bench comparison_bench

# ä½¿ç”¨ rust-tools éªŒè¯
cd bench/rust-tools
cargo run --release --features validation --bin veaba-qr -- "ä½ çš„æ–‡æœ¬"
```

## ç»“æœæ–‡ä»¶

åŸºå‡†æµ‹è¯•ç»“æœä¼šä¿å­˜åˆ°ä»¥ä¸‹ä½ç½®ï¼š

- **å®Œæ•´ç»“æœ**: `/docs/public/backend_benchmark_pk.json`
- **æ‘˜è¦ç»“æœ**: `/docs/public/backend_benchmark_pk_summary.json`
- **Node.js ç»“æœ**: `/docs/public/benchmark_node_result.json`
- **Bun ç»“æœ**: `/docs/public/benchmark_bun_result.json`

## ä½¿ç”¨å»ºè®®

| åœºæ™¯               | æ¨èåŒ…               | åŸå›                                  |
| ------------------ | -------------------- | ------------------------------------ |
| æè‡´æ€§èƒ½           | `@veaba/qrcode-fast` | æœ€å¿«çš„ç”Ÿæˆé€Ÿåº¦ï¼Œæ¯” kennytm å¿« 36-75x |
| ç”Ÿäº§ç¯å¢ƒ (Rust)    | `@veaba/qrcode-rust` | åŠŸèƒ½å®Œæ•´ï¼Œæ¯” kennytm å¿« 13-17x       |
| ç”Ÿäº§ç¯å¢ƒ (Bun)     | `@veaba/qrcode-bun`  | Bun è¿è¡Œæ—¶ä¸‹çš„æœ€ä½³é€‰æ‹©               |
| ç”Ÿäº§ç¯å¢ƒ (Node.js) | `@veaba/qrcode-node` | Node.js è¿è¡Œæ—¶ä¸‹çš„æœ€ä½³é€‰æ‹©           |
| å¯¹æ¯”åŸºå‡†           | `kennytm-qrcode`     | ç¤¾åŒºæˆç†Ÿåº“ï¼Œç”¨äºæ€§èƒ½å¯¹æ¯”             |

## å†å²æ•°æ®

æ‚¨å¯ä»¥æŸ¥çœ‹å†å²åŸºå‡†æµ‹è¯•ç»“æœï¼š

- [æœ€æ–°ç»“æœ](/backend_benchmark_pk_summary.json)
- [å®Œæ•´ç»“æœ](/backend_benchmark_pk.json)

---

_æœ€åæ›´æ–°: 2026-02-02_
