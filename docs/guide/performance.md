# æ€§èƒ½å¯¹æ¯”

æœ¬æ–‡æ¡£æä¾›å„è¿è¡Œæ—¶çš„è¯¦ç»†æ€§èƒ½å¯¹æ¯”æ•°æ®ï¼Œå¸®åŠ©ä½ é€‰æ‹©æœ€é€‚åˆçš„åŒ…ã€‚

## æµ‹è¯•ç¯å¢ƒ

- **å¹³å°**: Windows
- **Node.js**: v20.19.4
- **Bun**: v1.3.0
- **Rust**: v1.83.0
- **æµ‹è¯•æ—¶é—´**: 2026-02-01

## ç»¼åˆæ€§èƒ½å¯¹æ¯”

### å•æ¡ç”Ÿæˆæ€§èƒ½

| è¿è¡Œæ—¶ | ops/s | å•æ¬¡è€—æ—¶ | ç›¸å¯¹æ€§èƒ½ |
|--------|-------|---------|---------|
| Bun (medium) | 13,929 | 72 Î¼s | ğŸ¥‡ æœ€å¿« |
| Rust åŸç”Ÿ | 17,300 | 58 Î¼s | ğŸ¥‡ åŸºå‡† |
| Bun (short) | 10,872 | 92 Î¼s | 1.6x æ…¢ |
| Node.js (medium) | 9,662 | 103 Î¼s | 1.8x æ…¢ |
| Node.js (short) | 10,312 | 97 Î¼s | 1.7x æ…¢ |

```
å•æ¡ç”Ÿæˆ - ä¸­ç­‰æ–‡æœ¬ (ops/sï¼Œè¶Šé«˜è¶Šå¥½)

Bun:     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 13,929
Node.js: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                 9,662
```

### æ‰¹é‡ç”Ÿæˆæ€§èƒ½ (1000 æ¡)

| è¿è¡Œæ—¶ | ops/s | æ€»è€—æ—¶ | ç›¸å¯¹æ€§èƒ½ |
|--------|-------|--------|---------|
| Bun | 15,000 | 68 ms | ğŸ¥‡ åŸºå‡† |
| Rust åŸç”Ÿ | ~25,000 | ~40 ms | ğŸ¥‡ æ›´å¿« |
| Node.js | 3,000 | 331 ms | 4.9x æ…¢ |

```
æ‰¹é‡ 1000 æ¡ (ops/sï¼Œè¶Šé«˜è¶Šå¥½)

Bun:     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 15,000
Node.js: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                                             3,000
```

## è¯¦ç»†æµ‹è¯•æ•°æ®

### @veaba/qrcode-node (Node.js)

```
å•æ¡ç”Ÿæˆ (short):    10,312 ops/s, 0.0970 ms/op
å•æ¡ç”Ÿæˆ (medium):    9,662 ops/s, 0.1035 ms/op
å•æ¡ç”Ÿæˆ (long):      2,447 ops/s, 0.4086 ms/op
å•æ¡ç”Ÿæˆ (unicode):   4,117 ops/s, 0.2429 ms/op
æ‰¹é‡ç”Ÿæˆ (10 æ¡):     6,110 ops/s, 1.6355 ms/op
æ‰¹é‡ç”Ÿæˆ (100 æ¡):    3,000 ops/s, 33.5487 ms/op
æ‰¹é‡ç”Ÿæˆ (1000 æ¡):   3,000 ops/s, 331.0396 ms/op
SVG è¾“å‡º:             9,827 ops/s, 0.1018 ms/op
Styled SVG è¾“å‡º:      4,893 ops/s, 0.2044 ms/op
PNG Buffer è¾“å‡º:      2,404 ops/s, 0.4160 ms/op
çº é”™çº§åˆ« L:           8,010 ops/s, 0.1248 ms/op
çº é”™çº§åˆ« M:           8,431 ops/s, 0.1186 ms/op
çº é”™çº§åˆ« Q:           8,646 ops/s, 0.1157 ms/op
çº é”™çº§åˆ« H:          10,427 ops/s, 0.0959 ms/op
å¼‚æ­¥å•æ¡ç”Ÿæˆ:         9,344 ops/s, 0.1070 ms/op
```

### @veaba/qrcode-bun (Bun)

```
å•æ¡ç”Ÿæˆ (short):    10,872 ops/s, 0.0920 ms/op
å•æ¡ç”Ÿæˆ (medium):   13,929 ops/s, 0.0718 ms/op
å•æ¡ç”Ÿæˆ (long):      5,306 ops/s, 0.1885 ms/op
å•æ¡ç”Ÿæˆ (unicode):  14,246 ops/s, 0.0702 ms/op
æ‰¹é‡ç”Ÿæˆ (10 æ¡):    15,420 ops/s, 0.6483 ms/op
æ‰¹é‡ç”Ÿæˆ (100 æ¡):   12,200 ops/s, 8.1645 ms/op
æ‰¹é‡ç”Ÿæˆ (1000 æ¡):  15,000 ops/s, 68.5033 ms/op
SVG è¾“å‡º:            17,097 ops/s, 0.0585 ms/op
Styled SVG è¾“å‡º:      9,696 ops/s, 0.1031 ms/op
è·å–æ¨¡å—æ•°æ®:        18,152 ops/s, 0.0551 ms/op
çº é”™çº§åˆ« L:          24,367 ops/s, 0.0410 ms/op
çº é”™çº§åˆ« M:          24,074 ops/s, 0.0415 ms/op
çº é”™çº§åˆ« Q:          23,341 ops/s, 0.0428 ms/op
çº é”™çº§åˆ« H:          19,596 ops/s, 0.0510 ms/op
å¼‚æ­¥å•æ¡ç”Ÿæˆ:        12,956 ops/s, 0.0772 ms/op
TextEncoder ç¼–ç : 5,537,405 ops/s, 0.0002 ms/op
```

### @veaba/qrcode-rust (åŸç”Ÿ)

```
single_generation:     56.471 Âµs  57.807 Âµs  59.205 Âµs  (~17,300 ops/s)
batch_generation_100:   4.302 ms   4.389 ms   4.483 ms  (~22,780 ops/s)
svg_generation:        43.779 Âµs  44.863 Âµs  45.967 Âµs  (~22,270 ops/s)
error_level_L:         35.776 Âµs  36.631 Âµs  37.482 Âµs  (~27,300 ops/s)
error_level_M:         35.299 Âµs  36.085 Âµs  36.870 Âµs  (~27,200 ops/s)
error_level_Q:         31.985 Âµs  32.582 Âµs  33.322 Âµs  (~30,500 ops/s)
error_level_H:         33.3 Âµs                              (~30,000 ops/s)
```

## Node.js vs Bun è¯¦ç»†å¯¹æ¯”

| æµ‹è¯•é¡¹ | Node.js | Bun | Bun ä¼˜åŠ¿ |
|--------|---------|-----|----------|
| å•æ¡ç”Ÿæˆ (short) | 10,312 | 10,872 | +5.4% |
| å•æ¡ç”Ÿæˆ (medium) | 9,662 | 13,929 | +44.2% |
| å•æ¡ç”Ÿæˆ (long) | 2,447 | 5,306 | +116.8% |
| å•æ¡ç”Ÿæˆ (unicode) | 4,117 | 14,246 | +246.0% |
| æ‰¹é‡ç”Ÿæˆ (10) | 6,110 | 15,420 | +152.4% |
| æ‰¹é‡ç”Ÿæˆ (100) | 3,000 | 12,200 | +306.7% |
| æ‰¹é‡ç”Ÿæˆ (1000) | 3,000 | 15,000 | +400.0% |
| SVG è¾“å‡º | 9,827 | 17,097 | +74.0% |
| Styled SVG | 4,893 | 9,696 | +98.2% |
| çº é”™çº§åˆ« L | 8,010 | 24,367 | +204.2% |
| çº é”™çº§åˆ« M | 8,431 | 24,074 | +185.5% |
| çº é”™çº§åˆ« Q | 8,646 | 23,341 | +170.0% |
| çº é”™çº§åˆ« H | 10,427 | 19,596 | +87.9% |
| å¼‚æ­¥å•æ¡ | 9,344 | 12,956 | +38.7% |

## çº é”™çº§åˆ«æ€§èƒ½

ä¸åŒçº é”™çº§åˆ«å¯¹æ€§èƒ½çš„å½±å“ï¼š

| çº é”™çº§åˆ« | å®¹é”™ç‡ | Rust | Bun | Node.js |
|---------|-------|------|-----|---------|
| L (ä½) | ~7% | 36.6 Âµs | 41.0 Âµs | 124.8 Âµs |
| M (ä¸­) | ~15% | 36.7 Âµs | 41.5 Âµs | 118.6 Âµs |
| Q (è¾ƒé«˜) | ~25% | 32.8 Âµs | 42.8 Âµs | 115.7 Âµs |
| H (é«˜) | ~30% | 33.3 Âµs | 51.0 Âµs | 95.9 Âµs |

## å†…å­˜ä½¿ç”¨

### åŒ…å¤§å°å¯¹æ¯”

| åŒ… | å‹ç¼©å | è§£å‹å | è¯´æ˜ |
|----|-------|-------|------|
| @veaba/qrcode-js | 8 KB | 15 KB | çº¯ JS |
| @veaba/qrcode-wasm | 25 KB | 80 KB | å« .wasm |
| @veaba/qrcode-node | 10 KB | 20 KB | æœåŠ¡ç«¯ |
| @veaba/qrcode-bun | 10 KB | 20 KB | æœåŠ¡ç«¯ |

## å¯åŠ¨æ—¶é—´

| è¿è¡Œæ—¶ | å†·å¯åŠ¨ | çƒ­å¯åŠ¨ | è¯´æ˜ |
|--------|-------|-------|------|
| Rust | 0 ms | 0 ms | åŸç”Ÿä»£ç  |
| Bun | 10 ms | 5 ms | å¿«é€Ÿå¯åŠ¨ |
| Node.js | 50 ms | 30 ms | éœ€åŠ è½½æ¨¡å— |
| WASM | 100 ms | 0 ms | é¦–æ¬¡éœ€åˆå§‹åŒ– |

## é€‰æ‹©å»ºè®®

### æ ¹æ®åœºæ™¯é€‰æ‹©

| åœºæ™¯ | æ¨èåŒ… | åŸå›  |
|------|-------|------|
| å‰ç«¯ç”Ÿäº§ç¯å¢ƒ | @veaba/qrcode-js | åŒ…å°ï¼Œæ— éœ€ WASM åˆå§‹åŒ– |
| å‰ç«¯é«˜æ€§èƒ½ | @veaba/qrcode-wasm | æµè§ˆå™¨ä¸­æ›´å¿« |
| Node.js åç«¯ | @veaba/qrcode-node | æ”¯æŒ PNGï¼Œç”Ÿæ€ä¸°å¯Œ |
| Bun åç«¯ | @veaba/qrcode-bun | æ‰¹é‡æ€§èƒ½æœ€ä¼˜ï¼ˆå¿« 5 å€ï¼‰ |
| Rust é¡¹ç›® | @veaba/qrcode-rust | æè‡´æ€§èƒ½ |
| è¾¹ç¼˜è®¡ç®— | @veaba/qrcode-bun | å¯åŠ¨å¿«ï¼Œæ‰¹é‡æ€§èƒ½ä¼˜ |

### æ ¹æ®æ€§èƒ½éœ€æ±‚é€‰æ‹©

| æ€§èƒ½éœ€æ±‚ | æ¨èè¿è¡Œæ—¶ | é¢„æœŸ ops/s |
|---------|-----------|-----------|
| æè‡´æ€§èƒ½ | Rust åŸç”Ÿ | 17,000+ |
| æ‰¹é‡ç”Ÿæˆ | Bun | 15,000 |
| å‰ç«¯é«˜æ€§èƒ½ | WASM | ~15,000 |
| ä¸€èˆ¬éœ€æ±‚ | Node.js | 9,000-10,000 |

### æ ¹æ®åŠŸèƒ½éœ€æ±‚é€‰æ‹©

| åŠŸèƒ½éœ€æ±‚ | æ¨èåŒ… |
|---------|-------|
| PNG è¾“å‡º | @veaba/qrcode-node / @veaba/qrcode-bun |
| æ ·å¼åŒ– SVG | ä»»æ„åŒ…ï¼ˆéƒ½æ”¯æŒï¼‰ |
| æ‰¹é‡ç”Ÿæˆ | @veaba/qrcode-bun |
| æœ€å°åŒ…ä½“ç§¯ | @veaba/qrcode-js |

## ä¼˜åŒ–å»ºè®®

### 1. ä½¿ç”¨ç¼“å­˜

æ‰€æœ‰å…¬å¼€åŒ…éƒ½å†…ç½®ç¼“å­˜ç³»ç»Ÿï¼š

```typescript
// æµè§ˆå™¨ç¯å¢ƒ
import { QRCode, QRErrorCorrectLevel } from '@veaba/qrcode-js';

const qr = new QRCode('https://example.com', QRErrorCorrectLevel.H);
// å®ä¾‹å¯å¤ç”¨
```

### 2. æ‰¹é‡ç”Ÿæˆ

```typescript
// Bun æ‰¹é‡æ€§èƒ½æœ€ä¼˜
import { QRCode, QRErrorCorrectLevel } from '@veaba/qrcode-bun';

const texts = Array.from({ length: 1000 }, (_, i) => `https://example.com/${i}`);
const svgs = texts.map(text => {
  const qr = new QRCode(text, QRErrorCorrectLevel.H);
  return qr.toSVG(256);
});
```

### 3. å¤ç”¨å®ä¾‹

```typescript
// WASM ä¸­å¤ç”¨å®ä¾‹
const qr = new QRCode('text', QRErrorCorrectLevel.H);
// å¤ç”¨åŒä¸€å®ä¾‹
```

## åŸºå‡†æµ‹è¯•è¿è¡Œ

### Node.js

```bash
cd packages/qrcode-node
node benchmark/index.js
```

### Bun

```bash
cd packages/qrcode-bun
bun run benchmark/index.ts
```

### Rust

```bash
cd packages/qrcode-rust
cargo bench
```

## æ›´æ–°è®°å½•

- 2026-02-01: æ›´æ–°æµ‹è¯•æ•°æ®ï¼ŒåŸºäºæœ€æ–°åŸºå‡†æµ‹è¯•
- æ•°æ®å¯èƒ½å› ç¡¬ä»¶å’Œç‰ˆæœ¬ä¸åŒæœ‰æ‰€å·®å¼‚
