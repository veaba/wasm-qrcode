# å¿«é€Ÿå¼€å§‹

import { PackageManagerTabs } from '@rspress/core/theme';

æœ¬æŒ‡å—å°†å¸®åŠ©ä½ åœ¨ 5 åˆ†é’Ÿå†…å¼€å§‹ä½¿ç”¨ QRCodeã€‚

## æµè§ˆå™¨ç¯å¢ƒï¼ˆçº¯ JSï¼‰

### 1. å®‰è£…

<PackageManagerTabs command='install @veaba/qrcode-js' />

### 2. åŸºç¡€ä½¿ç”¨

```typescript
import { QRCode, QRErrorCorrectLevel } from '@veaba/qrcode-js';

// åˆ›å»º QRCode å®ä¾‹
const qr = new QRCode('https://github.com/veaba/qrcodes', QRErrorCorrectLevel.H);

// è·å– SVG å­—ç¬¦ä¸²
const svg = qr.toSVG();

// æ’å…¥åˆ°é¡µé¢
document.getElementById('qrcode').innerHTML = svg;
```

### 3. åœ¨æ¡†æ¶ä¸­ä½¿ç”¨

import { Tab, Tabs } from '@rspress/core/theme';

<Tabs>
<Tab label="React">

```tsx [React]
import { useMemo } from 'react';
import { QRCode, QRErrorCorrectLevel } from '@veaba/qrcode-js';

function QRCodeComponent({ text, size = 256 }) {
  const svg = useMemo(() => {
    const qr = new QRCode(text, QRErrorCorrectLevel.H);
    return qr.toSVG(size);
  }, [text, size]);

  return <div dangerouslySetInnerHTML={{ __html: svg }} />;
}
```

</Tab>

<Tab label="Vue">

```html [Vue]
<template>
  <div v-html="svg" />
</template>

<script setup>
  import { QRCode, QRErrorCorrectLevel } from '@veaba/qrcode-js';
  import { computed } from 'vue';

  const props = defineProps({
    text: String,
    size: { type: Number, default: 256 },
  });

  const svg = computed(() => {
    const qr = new QRCode(props.text, QRErrorCorrectLevel.H);
    return qr.toSVG(props.size);
  });
</script>
```

</Tab>
</Tabs>

## æµè§ˆå™¨ç¯å¢ƒï¼ˆWASMï¼‰

### 1. å®‰è£…

<PackageManagerTabs command='install @veaba/qrcode-wasm' />

### 2. åŸºç¡€ä½¿ç”¨

```typescript
import init, { QRCodeWasm } from '@veaba/qrcode-wasm';

// åˆå§‹åŒ– WASMï¼ˆåªéœ€ä¸€æ¬¡ï¼‰
await init();

// åˆ›å»º QRCode å®ä¾‹
const qr = new QRCodeWasm();

// ç”Ÿæˆ QRCode
qr.make_code('https://github.com/veaba/qrcodes');

// è·å– SVG å­—ç¬¦ä¸²
const svg = qr.get_svg();

// æ’å…¥åˆ°é¡µé¢
document.getElementById('qrcode').innerHTML = svg;
```

## Node.js ç¯å¢ƒ

### 1. å®‰è£…

```bash
npm install @veaba/qrcode-node
```

### 2. åŸºç¡€ä½¿ç”¨

```typescript
import { QRCode, QRErrorCorrectLevel } from '@veaba/qrcode-node';
import fs from 'fs';

// åˆ›å»º QRCode
const qr = new QRCode('https://example.com', QRErrorCorrectLevel.H);

// è·å– SVG
const svg = qr.toSVG();
fs.writeFileSync('qrcode.svg', svg);

// è·å– PNG Buffer
const pngBuffer = qr.toPNG(256);
fs.writeFileSync('qrcode.png', pngBuffer);
```

### 3. Express ç¤ºä¾‹

```typescript
import express from 'express';
import { QRCode, QRErrorCorrectLevel } from '@veaba/qrcode-node';

const app = express();

app.get('/qrcode', (req, res) => {
  const { text = 'https://example.com', size = 256 } = req.query;

  const qr = new QRCode(text, QRErrorCorrectLevel.H);
  const svg = qr.toStyledSVG({ size: parseInt(size) });

  res.setHeader('Content-Type', 'image/svg+xml');
  res.send(svg);
});

app.listen(3000);
```

## Bun ç¯å¢ƒ

### 1. å®‰è£…

```bash
bun add @veaba/qrcode-bun
```

### 2. åŸºç¡€ä½¿ç”¨

```typescript
import { QRCode, QRErrorCorrectLevel } from '@veaba/qrcode-bun';

// Bun çš„ API ä¸ Node.js ç‰ˆæœ¬ä¸€è‡´
const qr = new QRCode('https://example.com', QRErrorCorrectLevel.H);

// è·å– SVG
const svg = qr.toSVG();
console.log(svg);

// æ‰¹é‡ç”Ÿæˆï¼ˆBun çš„å¹¶å‘æ€§èƒ½æ›´ä¼˜ï¼‰
const texts = Array.from({ length: 1000 }, (_, i) => `https://example.com/${i}`);
const results = texts.map((t) => {
  const q = new QRCode(t, QRErrorCorrectLevel.H);
  return q.toSVG();
});
```

## Rust ç¯å¢ƒ

### 1. æ·»åŠ ä¾èµ–

```toml
[dependencies]
qrcode-rust = { git = "https://github.com/veaba/qrcodes" }
```

### 2. åŸºç¡€ä½¿ç”¨

```rust
use qrcode_rust::{QRCode, QRErrorCorrectLevel};

fn main() {
    // åˆ›å»º QRCode
    let mut qr = QRCode::new("https://example.com");
    qr.options.correct_level = QRErrorCorrectLevel::H;

    // è·å– SVG
    let svg = qr.get_svg();
    println!("{}", svg);

    // ä¿å­˜åˆ°æ–‡ä»¶
    std::fs::write("qrcode.svg", svg).expect("Failed to write file");
}
```

### 3. éªŒè¯ç”Ÿæˆçš„ SVG

```bash
cd bench/rust-tools
cargo run --release --features validation --bin veaba-qr -- "https://example.com"

# è¾“å‡ºï¼š
# ğŸ“¦ @veaba/qrcode-rust
# â±ï¸  ç”Ÿæˆè€—æ—¶: ~66Âµs
# ğŸ” éªŒè¯ä¸­...
# âœ… éªŒè¯é€šè¿‡ï¼
```

## æ ·å¼åŒ– QRCode

æ‰€æœ‰åŒ…éƒ½æ”¯æŒæ ·å¼åŒ–è¾“å‡ºï¼š

```typescript
import { QRCode, QRErrorCorrectLevel } from '@veaba/qrcode-js';
// æˆ– Node.js: import { QRCode } from '@veaba/qrcode-node';
// æˆ– Bun: import { QRCode } from '@veaba/qrcode-bun';

const qr = new QRCode('https://example.com', QRErrorCorrectLevel.H);

// æ ·å¼åŒ– SVG
const styledSvg = qr.toStyledSVG({
  size: 256,
  colorDark: '#000000',
  colorLight: '#ffffff',
  borderRadius: 8,
  quietZone: 2,
});

// æ¸å˜ QRCode
const gradientSvg = qr.toStyledSVG({
  size: 256,
  gradient: {
    color1: '#667eea',
    color2: '#764ba2',
  },
});
```

## æ‰¹é‡ç”Ÿæˆ

```typescript
import { QRCode, QRErrorCorrectLevel } from '@veaba/qrcode-js';
// æˆ– Node.js/Bun ç¯å¢ƒ

const texts = ['https://example.com/1', 'https://example.com/2', 'https://example.com/3'];

// æ‰¹é‡ç”Ÿæˆ
const svgs = texts.map((text) => {
  const qr = new QRCode(text, QRErrorCorrectLevel.H);
  return qr.toSVG(256);
});
```

## æ€§èƒ½å¯¹æ¯”

å„è¿è¡Œæ—¶çš„æ€§èƒ½å¯¹æ¯”ï¼ˆå•æ¡ç”Ÿæˆï¼Œops/sï¼‰ï¼š

| åŒ…                   | æ€§èƒ½         | é€‚ç”¨åœºæ™¯     |
| -------------------- | ------------ | ------------ |
| `@veaba/qrcode-rust` | 54,283 ops/s | æè‡´æ€§èƒ½     |
| `@veaba/qrcode-bun`  | 18,902 ops/s | Bun åç«¯     |
| `@veaba/qrcode-node` | 12,078 ops/s | Node.js åç«¯ |
| `@veaba/qrcode-js`   | 9,662 ops/s  | æµè§ˆå™¨       |

## ä¸‹ä¸€æ­¥

- äº†è§£æ›´å¤š [API å‚è€ƒ](../api/)
- æŸ¥çœ‹ [æ€§èƒ½å¯¹æ¯”](../bench/)
- æ¢ç´¢ [æ ·å¼åŒ– QRCode](./qrcode-js#æ ·å¼åŒ–)
- æŸ¥çœ‹ [Rust æŒ‡å—](./qrcode-rust) äº†è§£åŸç”Ÿ Rust ä½¿ç”¨
