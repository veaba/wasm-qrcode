<!DOCTYPE html>
<html>

<head> 
    <meta charset="utf-8"> 
    <title>手动测试 canvas</title> 
</head>

<body>

    <canvas id="myCanvas" width="256" height="256" style="border:1px solid #c3c3c3;">
        您的浏览器不支持 HTML5 canvas 标签。
    </canvas>

    <script>

        var c = document.getElementById("myCanvas");
        var ctx = c.getContext("2d");
        ctx.fillStyle = "#000";
        //ctx.fillRect(0,0,200,200);
        ctx.fillRect(61.44, 215.04, 10.24, 10.24)
        let nCount = 25;
        let nWidth = 256 / nCount;
        let nHeight = 256 / nCount;
        let nRoundedWidth = Math.round(nWidth);
        let nRoundedHeight = Math.round(nHeight);

        // 如何生成 modules
        const modules = [
            [
                true,
                true,
                true,
                true,
                true,
                true,
                true,
                false,
                false,
                false,
                false,
                true,
                true,
                true,
                true,
                false,
                false,
                false,
                true,
                true,
                true,
                true,
                true,
                true,
                true
            ],
            [
                true,
                false,
                false,
                false,
                false,
                false,
                true,
                false,
                true,
                false,
                false,
                false,
                true,
                true,
                true,
                false,
                false,
                false,
                true,
                false,
                false,
                false,
                false,
                false,
                true
            ],
            [
                true,
                false,
                true,
                true,
                true,
                false,
                true,
                false,
                true,
                false,
                false,
                true,
                true,
                false,
                true,
                true,
                false,
                false,
                true,
                false,
                true,
                true,
                true,
                false,
                true
            ],
            [
                true,
                false,
                true,
                true,
                true,
                false,
                true,
                false,
                true,
                true,
                false,
                true,
                false,
                false,
                true,
                false,
                false,
                false,
                true,
                false,
                true,
                true,
                true,
                false,
                true
            ],
            [
                true,
                false,
                true,
                true,
                true,
                false,
                true,
                false,
                true,
                true,
                true,
                true,
                false,
                false,
                false,
                false,
                false,
                false,
                true,
                false,
                true,
                true,
                true,
                false,
                true
            ],
            [
                true,
                false,
                false,
                false,
                false,
                false,
                true,
                false,
                true,
                true,
                false,
                true,
                true,
                false,
                true,
                false,
                true,
                false,
                true,
                false,
                false,
                false,
                false,
                false,
                true
            ],
            [
                true,
                true,
                true,
                true,
                true,
                true,
                true,
                false,
                true,
                false,
                true,
                false,
                true,
                false,
                true,
                false,
                true,
                false,
                true,
                true,
                true,
                true,
                true,
                true,
                true
            ],
            [
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false
            ],
            [
                false,
                false,
                true,
                false,
                false,
                true,
                true,
                true,
                true,
                true,
                false,
                true,
                true,
                true,
                false,
                true,
                false,
                true,
                false,
                true,
                true,
                true,
                true,
                true,
                false
            ],
            [
                false,
                true,
                true,
                true,
                false,
                true,
                false,
                false,
                true,
                true,
                false,
                false,
                false,
                true,
                false,
                false,
                false,
                false,
                true,
                true,
                false,
                true,
                true,
                false,
                true
            ],
            [
                true,
                true,
                true,
                false,
                false,
                true,
                true,
                false,
                false,
                true,
                true,
                true,
                false,
                true,
                false,
                true,
                true,
                false,
                false,
                true,
                false,
                true,
                true,
                false,
                true
            ],
            [
                false,
                true,
                false,
                false,
                false,
                true,
                false,
                true,
                true,
                true,
                false,
                false,
                false,
                false,
                false,
                true,
                true,
                false,
                false,
                false,
                false,
                true,
                false,
                true,
                false
            ],
            [
                false,
                true,
                false,
                false,
                true,
                false,
                true,
                false,
                true,
                true,
                true,
                false,
                true,
                false,
                false,
                true,
                true,
                false,
                true,
                false,
                false,
                true,
                false,
                false,
                true
            ],
            [
                false,
                false,
                true,
                false,
                true,
                false,
                false,
                false,
                true,
                true,
                false,
                true,
                false,
                false,
                false,
                false,
                true,
                false,
                true,
                true,
                false,
                true,
                true,
                false,
                true
            ],
            [
                true,
                true,
                true,
                false,
                true,
                true,
                true,
                true,
                true,
                true,
                true,
                false,
                false,
                true,
                true,
                false,
                true,
                false,
                true,
                false,
                false,
                true,
                true,
                false,
                true
            ],
            [
                false,
                false,
                true,
                false,
                true,
                false,
                false,
                false,
                false,
                true,
                true,
                false,
                true,
                false,
                true,
                true,
                true,
                false,
                false,
                true,
                true,
                true,
                false,
                false,
                false
            ],
            [
                true,
                true,
                false,
                false,
                true,
                false,
                true,
                false,
                true,
                false,
                true,
                false,
                true,
                true,
                false,
                false,
                true,
                true,
                true,
                true,
                true,
                true,
                false,
                true,
                false
            ],
            [
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                true,
                true,
                false,
                false,
                true,
                true,
                true,
                true,
                true,
                false,
                false,
                false,
                true,
                true,
                true,
                false,
                true
            ],
            [
                true,
                true,
                true,
                true,
                true,
                true,
                true,
                false,
                true,
                false,
                true,
                true,
                false,
                false,
                false,
                true,
                true,
                false,
                true,
                false,
                true,
                false,
                false,
                false,
                true
            ],
            [
                true,
                false,
                false,
                false,
                false,
                false,
                true,
                false,
                true,
                true,
                false,
                true,
                true,
                false,
                false,
                false,
                true,
                false,
                false,
                false,
                true,
                false,
                false,
                true,
                true
            ],
            [
                true,
                false,
                true,
                true,
                true,
                false,
                true,
                false,
                false,
                false,
                false,
                true,
                false,
                true,
                false,
                true,
                true,
                true,
                true,
                true,
                true,
                true,
                false,
                true,
                false
            ],
            [
                true,
                false,
                true,
                true,
                true,
                false,
                true,
                false,
                false,
                false,
                false,
                false,
                true,
                true,
                true,
                true,
                false,
                false,
                false,
                false,
                true,
                false,
                false,
                false,
                false
            ],
            [
                true,
                false,
                true,
                true,
                true,
                false,
                true,
                false,
                true,
                true,
                true,
                false,
                true,
                false,
                false,
                true,
                true,
                true,
                true,
                false,
                true,
                true,
                true,
                true,
                true
            ],
            [
                true,
                false,
                false,
                false,
                false,
                false,
                true,
                false,
                false,
                false,
                true,
                true,
                true,
                false,
                true,
                false,
                false,
                true,
                true,
                true,
                true,
                true,
                false,
                false,
                false
            ],
            [
                true,
                true,
                true,
                true,
                true,
                true,
                true,
                false,
                false,
                false,
                true,
                false,
                false,
                true,
                false,
                false,
                false,
                true,
                false,
                false,
                true,
                false,
                false,
                false,
                true
            ]
        ]

        const isDark = (row, col) => {
            if (
                row < 0 ||
                25 <= row ||
                col < 0 ||
                25 <= col
            ) {
                throw new Error(row + ',' + col);
            }
            return modules[row][col];
        }

        // 25个各自，每个格子是不是其他颜色，右自己决定
        const aColor = '#' + Math.floor(Math.random() * 16777215).toString(16)
        for (let row = 0; row < 25; row++) {
            for (let col = 0; col < 25; col++) {

                let nLeft = col * nWidth;
                let nTop = row * nHeight;
                // ctx.strokeStyle = '#'+Math.floor(Math.random()*16777215).toString(16)
                // ctx.fillStyle = '#'+Math.floor(Math.random()*16777215).toString(16)

                const bIsDark = isDark(row, col);


                // ctx.strokeStyle = '#'+Math.floor(Math.random()*16777215).toString(16)
                // ctx.fillStyle = '#'+Math.floor(Math.random()*16777215).toString(16)

                // 线条
                ctx.strokeStyle = bIsDark
                    ? '#fff'
                    : '#fff'

                // 
                ctx.lineWidth = 1;
                ctx.fillStyle = bIsDark
                    ? aColor
                    // ? '#' + Math.floor(Math.random() * 16777215).toString(16)
                    : '#fff'

                // ctx.strokeStyle = bIsDark
                // ? '#000'
                // : '#fff'

                // ctx.lineWidth = 1;
                // ctx.fillStyle = bIsDark
                // ? '#000'
                // : '#fff'

                //  194.56 245.76 10.24 10.24
                //  199.68 250.88 5.12  0
                ctx.beginPath()
                // ctx.fillRect(nLeft, nTop, nWidth, nHeight);
                // ctx.arc(nLeft, nTop, nWidth/2,0, 2*Math.PI);
                // console.log('新值=>',nLeft + nWidth / 2, nTop + nWidth / 2, nWidth / 2, 0)
                ctx.arc(nLeft + (nWidth / 2), nTop + (nWidth / 2), nWidth / 2, 0, 2 * Math.PI)
                ctx.fill();

                // ctx.fillRect(10,10,40,40);
                // ctx.arc(30,30,20,0,2*Math.PI);
                // ctx.stroke()
                // ctx.strokeRect(
                //     Math.floor(nLeft) + 0.5,
                //     Math.floor(nTop) + 0.5,
                //     nRoundedWidth,
                //     nRoundedHeight
                // );

                // ctx.strokeRect(
                //     Math.floor(nLeft) + 0.5,
                //     Math.floor(nTop) + 0.5,
                //     nRoundedWidth,
                //     nRoundedHeight
                // );
                // ctx.stroke()

                // ctx.strokeRect(
                //     Math.ceil(nLeft) - 0.5,
                //     Math.ceil(nTop) - 0.5,
                //     nRoundedWidth,
                //     nRoundedHeight
                // );
                // ctx.stroke()
            }
        }
    </script>

</body>

</html>