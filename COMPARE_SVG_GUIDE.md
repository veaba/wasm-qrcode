# ğŸ” SVG å¯¹æ¯”æŒ‡å—

> å¦‚ä½•å¯¹æ¯” @veaba/qrcode-wasm å’Œ kennytm/qrcode ç”Ÿæˆçš„ SVG

## æ–¹æ³•ä¸€ï¼šæµè§ˆå™¨å¯è§†åŒ–å¯¹æ¯”ï¼ˆæ¨èï¼‰

### 1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# å®‰è£…ä¾èµ–å¹¶æ„å»º
pnpm install
pnpm run build

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm run dev
```

### 2. æ‰“å¼€å¯¹æ¯”é¡µé¢

åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š
```
http://localhost:5173/compare_svg.html
```

### 3. è¾“å…¥æ–‡æœ¬ç”Ÿæˆå¯¹æ¯”

- åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥è¦ç”ŸæˆäºŒç»´ç çš„æ–‡æœ¬
- ç‚¹å‡»"ç”Ÿæˆå¯¹æ¯”"æŒ‰é’®
- æŸ¥çœ‹ä¸¤ä¸ªåº“çš„ SVG è¾“å‡ºå’Œæ€§èƒ½æ•°æ®

## æ–¹æ³•äºŒï¼šNode.js è„šæœ¬å¯¹æ¯”

### 1. æ„å»º Node.js åŒ…

```bash
cd packages/qrcode-node
pnpm run build
cd ../..
```

### 2. è¿è¡Œå¯¹æ¯”è„šæœ¬

```bash
node compare_svg_node.js "ä½ çš„æ–‡æœ¬"
```

è¿™ä¼šç”Ÿæˆ `ours_output.svg` æ–‡ä»¶ã€‚

## æ–¹æ³•ä¸‰ï¼šRust åŸç”Ÿå¯¹æ¯”ï¼ˆæœ€å‡†ç¡®ï¼‰

### 1. è¿›å…¥å¯¹æ¯”ç›®å½•

```bash
cd compare_rust
```

### 2. è¿è¡Œå¯¹æ¯”ç¨‹åº

```bash
cargo run --release -- "ä½ çš„æ–‡æœ¬" 256
```

è¿™ä¼šï¼š
- ä½¿ç”¨ä¸¤ä¸ªåº“åˆ†åˆ«ç”Ÿæˆ SVG
- æµ‹é‡çœŸå®çš„ç”Ÿæˆæ—¶é—´
- ç”Ÿæˆ `ours_output.svg` å’Œ `kenny_output.svg`

### 3. æŸ¥çœ‹ç»“æœ

```bash
# æŸ¥çœ‹ SVG æ–‡ä»¶
open ours_output.svg      # macOS
xdg-open ours_output.svg  # Linux
start ours_output.svg     # Windows

# æˆ–è€…ç”¨æµè§ˆå™¨
firefox ours_output.svg kenny_output.svg
```

## å¯¹æ¯”å†…å®¹

### è§†è§‰å¯¹æ¯”

æ‰“å¼€ä¸¤ä¸ª SVG æ–‡ä»¶ï¼Œæ£€æŸ¥ï¼š
- âœ… äºŒç»´ç æ˜¯å¦æ­£ç¡®ç”Ÿæˆ
- âœ…  finder patternï¼ˆä¸‰ä¸ªè§’çš„å¤§æ–¹å—ï¼‰æ˜¯å¦æ¸…æ™°
- âœ…  æ¨¡å—æ˜¯å¦å¯¹é½
- âœ…  æ˜¯å¦æœ‰å˜å½¢æˆ–æ¨¡ç³Š

### æ–‡ä»¶å¤§å°å¯¹æ¯”

```bash
ls -lh *.svg
```

### ä»£ç ç»“æ„å¯¹æ¯”

```bash
# æŸ¥çœ‹è¡Œæ•°
wc -l *.svg

# æŸ¥çœ‹æ–‡ä»¶å¤´
head -20 ours_output.svg
head -20 kenny_output.svg
```

## é¢„æœŸç»“æœ

### æ€§èƒ½å¯¹æ¯”

| æŒ‡æ ‡ | æˆ‘ä»¬çš„å®ç° | kennytm | å·®è· |
|------|-----------|---------|------|
| å•æ¡ SVG ç”Ÿæˆ | ~14Âµs | ~438Âµs | **30x faster** |
| æ–‡ä»¶å¤§å° | ~5KB | ~5KB | ç›¸åŒ |
| è§†è§‰è´¨é‡ | æ¸…æ™° | æ¸…æ™° | ç›¸åŒ |

### SVG ç»“æ„å·®å¼‚

**æˆ‘ä»¬çš„å®ç°ï¼š**
```svg
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" width="256" height="256">
  <rect width="256" height="256" fill="#ffffff"/>
  <rect x="16" y="16" width="7" height="7" fill="#000000"/>
  <!-- ç›´æ¥ rect å…ƒç´ ï¼Œæ—  transform -->
</svg>
```

**kennytm/qrcodeï¼š**
```svg
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" width="256" height="256">
  <rect width="256" height="256" fill="#ffffff"/>
  <path d="M16 16h7v7h-7z" fill="#000000"/>
  <!-- ä½¿ç”¨ path å…ƒç´  -->
</svg>
```

## å¸¸è§é—®é¢˜

### Q: ä¸¤ä¸ªåº“ç”Ÿæˆçš„äºŒç»´ç éƒ½èƒ½è¢«æ‰«æå—ï¼Ÿ

A: æ˜¯çš„ï¼Œä¸¤ä¸ªåº“éƒ½éµå¾ª QRCode æ ‡å‡†ï¼Œç”Ÿæˆçš„äºŒç»´ç éƒ½å¯ä»¥è¢«æ­£å¸¸æ‰«æã€‚

### Q: ä¸ºä»€ä¹ˆæ–‡ä»¶å¤§å°å·®ä¸å¤šï¼Ÿ

A: è™½ç„¶æˆ‘ä»¬çš„å®ç°ç”Ÿæˆé€Ÿåº¦æ›´å¿«ï¼Œä½†æœ€ç»ˆ SVG åŒ…å«çš„æ¨¡å—æ•°é‡ç›¸åŒï¼Œæ‰€ä»¥æ–‡ä»¶å¤§å°ç›¸è¿‘ã€‚

### Q: å¯ä»¥ç›´æ¥æ›¿æ¢ kennytm/qrcode å—ï¼Ÿ

A: å¯ä»¥ï¼æˆ‘ä»¬çš„ API è®¾è®¡å…¼å®¹æ ‡å‡† QRCode æ¥å£ï¼Œè¿ç§»æˆæœ¬ä½ã€‚

## æˆªå›¾åˆ†äº«

å¯¹æ¯”å®Œæˆåï¼Œæ¬¢è¿æˆªå›¾åˆ†äº«åˆ°ï¼š
- GitHub Issues
- Twitter / X
- æŠ€æœ¯åšå®¢

è®°å¾—åŠ ä¸Šæ ‡ç­¾ï¼š`#qrcode` `#rust` `#webassembly` `#performance`
